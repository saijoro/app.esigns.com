import{B as v,k as w,r as x,j as e}from"./client-Bf6frvx6.js";import{B as k}from"./button-D4gtANoL.js";import{I as m}from"./index-Ba_Gvt-c.js";import{u as E,a as S,C as f,L as C,l as I}from"./auth-BtnOP7xv.js";import{a as L}from"./fetch-B5HKRcBN.js";import{c as p}from"./createLucideIcon-BJta-0ek.js";/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=p("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=p("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),D=()=>{const c=v(),h=w(),{control:o,handleSubmit:u,setError:i,formState:{errors:r}}=E({}),[n,g]=x.useState(!1),[y,d]=x.useState(!1),{mutate:j,isError:F,error:_}=S({mutationFn:async a=>{try{d(!0);const t=await I(a);if(t?.status===200||t?.status===201){const{data:s}=t?.data,l=new Date(s?.access_token_expires_at);L.set("token",s.access_token,{priority:"High",expires:l}),c({to:"/"})}else if(t?.status===422){const s=t?.data?.errors?.details;s&&s.forEach(l=>{(l.type==="any.empty"||l.type==="any.required")&&i(l.key,{type:l.type,message:l.message})})}else if(t?.status==404){const s=t?.data?.message;s&&i("email",{type:"manual",message:s})}else if(t?.status==403){const s=t?.data?.message;s&&i("password",{type:"manual",message:s})}else throw t}catch(t){console.error(t)}finally{d(!1)}}}),b=a=>{j(a)},N=()=>{g(!n)};return e.jsx("div",{className:"flex justify-center items-center h-full",children:e.jsxs("div",{className:"p-8 top-[100px] w-[400px]  absolute bg-white rounded-2xl shadow flex-col justify-center items-center gap-12 inline-flex border",children:[e.jsxs("div",{className:"self-stretch h-[71px] flex-col justify-start items-center gap-4 flex",children:[e.jsx("div",{className:"self-stretch text-center text-black text-[32px] font-normal leading-loose",children:"Login"}),e.jsx("div",{className:"self-stretch text-center text-[#333333] text-lg font-light leading-normal",children:"Greetings! Kindly enter your credentials."})]}),e.jsx("div",{className:"self-stretch flex-col justify-start items-center gap-6 flex",children:e.jsx("form",{onSubmit:u(b),className:"self-stretch flex-col justify-start items-center gap-6 flex",children:e.jsxs("div",{className:"self-stretch h-[297px] flex-col justify-start items-start gap-12 flex",children:[e.jsxs("div",{className:"self-stretch h-[201px] flex-col justify-start items-start gap-6 flex",children:[e.jsxs("div",{className:"self-stretch h-[72px] flex-col justify-start items-start gap-1.5 flex",children:[e.jsx("div",{className:"self-stretch text-black text-sm font-normal leading-[18.20px]",children:"Email"}),e.jsx(f,{name:"email",control:o,render:({field:a})=>e.jsxs("div",{className:"w-full",children:[e.jsx(m,{...a,type:"email",placeholder:"Enter email",className:"h-12 px-4 py-3.5 bg-white rounded-lg border border-black/30"}),r.email&&e.jsx("div",{className:"text-red-500 text-sm mt-1 capitalize",children:r?.email?.message})]})})]}),e.jsxs("div",{className:"self-stretch h-[105px] flex-col justify-start items-start gap-1.5 flex",children:[e.jsx("div",{className:"self-stretch text-black text-sm font-normal leading-[18.20px]",children:"Password"}),e.jsxs("div",{className:"self-stretch h-[81px] flex-col justify-start items-start gap-3 flex",children:[e.jsx(f,{name:"password",control:o,render:({field:a})=>e.jsxs("div",{className:"w-full relative",children:[e.jsx(m,{...a,type:n?"text":"password",placeholder:"Enter password",className:"h-12 px-4 py-3.5 bg-white rounded-lg border border-black/30 w-full"}),e.jsx("button",{type:"button",onClick:N,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-800",children:n?e.jsx(P,{}):e.jsx(M,{})}),r.password&&e.jsx("div",{className:"text-red-500 text-sm mt-1 capitalize",children:r?.password?.message})]})}),e.jsx("div",{className:"self-stretch text-right text-black text-base font-medium leading-tight",children:"Forgot Password ?"})]})]})]}),e.jsx(k,{type:"submit",className:"text-black h-12 px-2.5 py-3.5 bg-[#ffc900] rounded-lg text-base font-medium leading-tight w-full",children:y?e.jsx(C,{className:"mr-2 h-5 w-5 animate-spin"}):"Login"})]})})}),e.jsxs("div",{className:"flex justify-center items-center gap-2",children:[e.jsxs("div",{className:"text-center text-[#0d0d0d] text-base font-light",children:["New to eSigns?"," "]}),e.jsx("div",{className:"text-center text-[#2f80ed] text-base font-normal cursor-pointer",onClick:()=>h.navigate({to:"/signup"}),children:"Sign up here."})]})]})})},A=function(){return e.jsx(D,{})};export{A as component};
